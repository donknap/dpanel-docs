# 域名转发

容器对外访问时，可以通过暴露容器内部端口的形式进行。暴露端口时会将容器内的某个端口映射到宿主的端口上。

比如，Nginx 容器内部的访问端口为 80，可以将宿主机的 8080 映射到该容器的 80 端口上。那么可以通过 http://服务器ip:8080 进行访问该容器。

但是在实际使用的大部分场景中，多以【域名】的形式来访问某个资源。\
这时候就需要利用 Nginx 之类的软件，通过反向代理的方式，将域名请求转发到某个容器中的某个端口。


### 标准版

> 多环境下，不支持域名转发功能

在 DPanel 标准版中，集成了 Nginx 与 Acme 软件。在安装时需要绑定容器的 80 及 443 端口。安装完成后，在【容器管理】中可以使用【域名转发】功能。

![domain-1.png](https://cdn.w7.cc/dpanel/domain-1.png)

### 反向代理

在反向代理转发时可以转发到某一个 ip 也可以转发到某一个容器。当你转发到容器时，面板会将自身与目标容器添加到 dpanel-local 网络中，并通过 hostname 进行转发。

这样的好处是无论你容器后续更新、停止、启动均可以正常的进行转发。相反如果指定容器在 bridge 网络中的 ip 后，随着容器的一些操作后 ip 可能会发变化，从而导致转发的失败。

当然，通过面板的反向代理功能转发容器后，在创建容器时，并不再需要暴露容器内的任何端口。

同时反向代理功能不仅局限于转发到容器中，你可以指定任何一个可以访问的地址进行转发。

### 重定向

将某个域名重定向到目标域名或是 ip 上。